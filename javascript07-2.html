<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>javascript 7일차 2번파일</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
    
        // var btn01 = document.querySelector("#btn01");
        
        // btn01.onclick = function(){
        //     alert("클릭");
        // };
        // 오류 발생
        // html,css,js는 위에서부터 한줄씩 실행
        // btn01 아이디를 가진 html태그를 자바스크립트에서 검색 시 검색되지 않아서 오류가 발생함
        // head 태그가 body 태그보다 먼저 실행 되기 때문에 head태그에 자바스크립트를 입력하여 검색하면 검색결과가 null 값이 나옴.

        // 문제 해결
        // 1 body 태그 가장 아래에 js 코드 입력
        // 2 웹페이지 이벤트 load 이벤트를 이용
            // 2-1 load 이벤트 사용
                // 기본 load 이벤트를 사용하여 body의 모든 리소스가 로드된 후 자바스크립트가 동작하도록 설정
                // 모든 리소스가 로드 된 이후에 js가 동작되므로 고용량 이미지나 동영상 등 미디어 파일이 있을 경우 미디어 파일이 로드되기 전까지 js코드가 동작하지 않는 단점이 있음
                // 오래전부터 존재하던 방식이기 때문에 IE8 이하에서도 정상적으로 동작됨 = 하위호환성이 좋다.
                // 사용법

                // 1.
                //window.onload = function(){
                //    js코드
                //}
            // window.onload = function(){
            //     var btnLoadEvent = document.querySelector("#btn01");
        
            //     btnLoadEvent.oncontextmenu = function(){
            //     alert("window.onload 이벤트를 사용");
            // };

            // }

                // 2.
                //window.addEventListener("load", function(){
                //  js코드
                //});
            window.addEventListener("load", function(){
                var btnLoadEvent = document.querySelector("#btn01");
        
                btnLoadEvent.oncontextmenu = function(){
                alert("window.onload 이벤트를 사용");
                };
            });

            // 2-2 DOMContentLoaded 사용
                // DOMContentLoaded 사용 시 body 태그의 html 태그가 모두 로딩된 이후 js코드를 실행함
                // onload 이벤트 보다 동작시점이 더 빠름
                window.addEventListener("DOMContentLoaded", function(){
                 
                    var btnContentLoad = document.querySelector("#btn01");
                
                    btnContentLoad.onmouseover = function(){
                    alert("DOMContentLoaded 사용");
                    };   
                });
        // 3 jquery에 ready 함수를 사용
            // js의 DomContentLoaded 와 같이 html 태그의 로드가 완료 시 js가 동작됨
            // ready 함수를 사용하기 위해서는 jquery를 로드해서 사용해야 함
            $(document).ready(function(){
                $("#btn01").on("mouseout", function(){
                    alert("jquery를 이용한 이벤트 설정");
                });
            });

    </script>

</head>
<body>
    <h3> 자바스크립트의 실행 순서에 따른 동작 </h3>
    <button id="btn01"> 클릭 시 알림창 출력 </button>


<script>
    //1번 해결법
    var btn01 = document.querySelector("#btn01");
        
        btn01.onclick = function(){
            alert("클릭");
        };

</script>
</body>
</html>